
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Blog</title>
	<meta name="author" content="Davide Prati">
	<link href='/assets/themes/the-program/css/style.css' rel="stylesheet" media="all">
	<link href='/assets/themes/the-program/css/native.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="Blog" type="application/atom+xml">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
</head>
<body>

<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<nav class="nav-global">
					<ul>
						<li class="logo"><a href="/">Edapx</a></li>
						<li class="pages"><a href="/about.html">about</a></li>
						<li class="archive"><a href="/archive.html">archive</a></li>
						<li class="tag"><a href="/tags.html">tags</a></li>
						</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
<article class="unit-article layout-page">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header>
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
						<h1 class="h2 entry-title">Blog</h1>
					</div><!-- unit-inner -->
				</div><!-- unit-head -->
			</header>

			<div class="bd">
				<div class="entry-content">
					

   <!-- here add you post markup -->
   <h1><a href="/2010/07/31/come-integrare-twitteranywhere-nellautenticazione-di-cakephp">come integrare twitter@anywhere nell'autenticazione di cakePHP</a></h1>
   <p class="author">
   <span class="date">31 July 2010</span>
  </p>
  <div class="content">
    Twitter @anywhere è l'API di twitter che vi permette di integrare la funzionalità di twitter nel vostro sito con poco codice javascript.
Registrare la vostra application, richiedere le API e cominciare ad usarle sul vostro sito è una cosa che si fa <a href="http://dev.twitter.com/anywhere">velocemente</a> e che non spiego qui.
La cosa che mi interessa è l'integrazione di twitter anywhere nella mia application...ovvero:
Come faccio a far si che se un utente si logga su twitter viene registrato nel mio database ed automaticamente loggato?

Dovrò gestire l'output di twitter anywhere e tramite ajax passarlo ad un handler nel nostro controller che loggherà l'utente in caso sia andato tutto bene, restituirà un errore in caso contrario.

Per prima cosa includiamo questi 2 file js nell'header del nostro template.
<div class="highlight"><pre><code class="php"><span class="k">echo</span> <span class="nv">$html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s2">&quot;jquery.js&quot;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s2">&quot;checkTwitterUsername.js&quot;</span><span class="p">);</span>
</code></pre>
</div>


Jquery,js lo trovate sul sito di jquery, lo script checkTwitterUsername.js è una funzione che prende l'output di twitter@anywhere e lo passa all'handler ajax che si occuperà di loggare l'utente.

[javascript]
/*place a <div id = "reply"></div> if you want to check te response */
function checkTwitterUsername (twitterusername) {
   if (twitterusername == undefined) {
       alert('twitterusername not setted');
   }else{
        $.ajax({
            type : "POST",
            url : "/users/handleTwitterUser",
            data : {name : twitterusername},
            success : function (response) {
                $("#reply").append(response);
                window.location.reload();
            },
            error : function (response) {
                $("#reply").append(response);
            }
        });
    }
}
[/javascript]
includiamo anche l'element twitter_login.ctp, che fa uso di twitter @anywhere, che trovate qui sotto
<div class="highlight"><pre><code class="php"><span class="o">&lt;?</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s2">&quot;twitter_login&quot;</span><span class="p">)</span><span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


twitter_login.ctp
<div class="highlight"><pre><code class="php"><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$id</span> <span class="o">=</span> <span class="s1">&#39;twitter-login-button-&#39;</span><span class="o">.</span><span class="nx">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">9999</span><span class="p">);</span>
<span class="k">echo</span> <span class="s1">&#39;&lt;span id=&quot;&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="o">.</span><span class="s1">&#39;&quot;&gt;&lt;/span&gt;&#39;</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$html</span><span class="o">-&gt;</span><span class="na">scriptBlock</span><span class="p">(</span><span class="s2">&quot;</span>
<span class="s2">    twttr.anywhere(function (T) {</span>
<span class="s2">        var currentUser,</span>
<span class="s2">            screenName,</span>
<span class="s2">            profileImage,</span>
<span class="s2">            profileImageTag;</span>

<span class="s2">        if (T.isConnected()) {</span>
<span class="s2">            currentUser = T.currentUser;</span>
<span class="s2">            screenName = currentUser.data(&#39;screen_name&#39;);</span>
<span class="s2">            profileImage = currentUser.data(&#39;profile_image_url&#39;);</span>
<span class="s2">            profileImageTag = </span><span class="se">\&quot;</span><span class="s2">&lt;img src=&#39;</span><span class="se">\&quot;</span><span class="s2"> + profileImage + </span><span class="se">\&quot;</span><span class="s2">&#39;/&gt;</span><span class="se">\&quot;</span><span class="s2">;</span>
<span class="s2">            $(&#39;#</span><span class="si">{</span><span class="nv">$id</span><span class="si">}</span><span class="s2">&#39;).append(</span><span class="se">\&quot;</span><span class="s2">Logged in as </span><span class="se">\&quot;</span><span class="s2"> + profileImageTag + </span><span class="se">\&quot;</span><span class="s2"> </span><span class="se">\&quot;</span><span class="s2"> + screenName );</span>
<span class="s2">            $(&#39;#signout&#39;).bind(</span><span class="se">\&quot;</span><span class="s2">click</span><span class="se">\&quot;</span><span class="s2">, function () {</span>
<span class="s2">                twttr.anywhere.signOut();</span>
<span class="s2">                window.location.reload();</span>
<span class="s2">            });</span>

<span class="s2">        } else {</span>
<span class="s2">            T(&#39;#</span><span class="si">{</span><span class="nv">$id</span><span class="si">}</span><span class="s2">&#39;).connectButton();</span>
<span class="s2">            T.bind(</span><span class="se">\&quot;</span><span class="s2">authComplete</span><span class="se">\&quot;</span><span class="s2">, function () {</span>
<span class="s2">                if (T.isConnected()) {</span>
<span class="s2">                    currentUser = T.currentUser;</span>
<span class="s2">                    screenName = currentUser.data(&#39;screen_name&#39;);</span>
<span class="s2">                    checkTwitterUsername(screenName);</span>
<span class="s2">                }</span>
<span class="s2">            });</span>

<span class="s2">        };</span>

<span class="s2">    });</span>

<span class="s2">    &quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>


Nella vostra tabelle Users aggiungete un campo twitter_username, nel controller users aggiungete questo metodo
<div class="highlight"><pre><code class="php"><span class="sd">/**</span>
<span class="sd"> * It&#39;s called by checkTwitterUsername.js</span>
<span class="sd"> * Once a user is logged in twitter:</span>
<span class="sd"> * 1)if it&#39;s not logged in your application and there is no twitter_username as the twitter user logged,</span>
<span class="sd"> * create and log the user in your application.</span>
<span class="sd"> * If a user with the same twittername exists, log the user.</span>
<span class="sd"> * 2)If the user is logged, check if he has a twitter_username, if not, update the value &quot;twitter username&quot;</span>
<span class="sd"> *</span>
<span class="sd"> * @return string</span>
<span class="sd"> * @access public</span>
<span class="sd"> **/</span>
<span class="k">function</span> <span class="nf">handleTwitterUser</span><span class="p">(){</span>
	<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">autoRender</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>
	<span class="nv">$msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])){</span>
		<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Auth</span><span class="o">-&gt;</span><span class="na">user</span><span class="p">()){</span>
			<span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">findByTwitterUsername</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$user</span><span class="p">){</span>
				<span class="c1">//generate passowrd</span>
				<span class="nx">srand</span> <span class="p">((</span><span class="nx">double</span><span class="p">)</span> <span class="nb">microtime</span><span class="p">(</span> <span class="p">)</span><span class="o">*</span><span class="mi">1000000</span><span class="p">);</span>
				<span class="nv">$random_number</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span>
				<span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
				<span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;twitter_username&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
				<span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Auth</span><span class="o">-&gt;</span><span class="na">password</span><span class="p">(</span><span class="nv">$random_number</span><span class="p">);</span>
				<span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;is_active&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;is_verified&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
				<span class="nv">$msg</span> <span class="o">=</span> <span class="s2">&quot;User saved and &quot;</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Auth</span><span class="o">-&gt;</span><span class="na">login</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Session</span><span class="o">-&gt;</span><span class="na">check</span><span class="p">(</span><span class="s1">&#39;Auth.User&#39;</span><span class="p">))</span> <span class="p">{</span>
				<span class="nx">App</span><span class="o">::</span><span class="na">import</span><span class="p">(</span><span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;User&#39;</span><span class="p">);</span>
				<span class="nv">$User</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">User</span><span class="p">;</span>
				<span class="nv">$User</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Session</span><span class="o">-&gt;</span><span class="na">read</span><span class="p">(</span><span class="s1">&#39;Auth&#39;</span><span class="p">));</span>
				<span class="nv">$User</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;User&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;is_loggedin&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">)));</span>

			<span class="p">}</span>
			<span class="nv">$msg</span><span class="o">.=</span> <span class="s2">&quot;User logged&quot;</span><span class="p">;</span>
			<span class="k">return</span> <span class="nv">$msg</span><span class="p">;</span>
		<span class="p">}</span><span class="k">else</span><span class="p">{</span>
			<span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">findByTwitterUsername</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$user</span><span class="p">){</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">=</span> <span class="nx">User</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;User.id&#39;</span><span class="p">);</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">[</span><span class="s1">&#39;User&#39;</span><span class="p">][</span><span class="s1">&#39;twitter_username&#39;</span><span class="p">]</span><span class="o">=</span><span class="nv">$name</span><span class="p">;</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">store</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;User&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;twitter_username&#39;</span> <span class="o">=&gt;</span> <span class="nv">$name</span><span class="p">)));</span>
				<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">save</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">);</span>
				<span class="nv">$msg</span> <span class="o">=</span> <span class="s2">&quot;your twitter username is now associated with yours profile&quot;</span><span class="p">;</span>
				<span class="k">return</span> <span class="nv">$msg</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
		<span class="nv">$error</span> <span class="o">=</span> <span class="s2">&quot;Error, we could not associate your twitter username with your profile&quot;</span><span class="p">;</span>
		<span class="k">return</span> <span class="nv">$error</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

In questa porzione di codice faccio uso di "$User = new User;" per salvare e recuperare in ogni parte della mia applicazione informazioni relative all'utente. Questa tecnica è spiegata bene, con esempi pratici nel libro gratis scaricabile online http://www.pseudocoder.com/free-cakephp-book/

Per poter sloggare l'utente automaticaente sia da twitter che dalla vostra applicazione, dovete far si che il link a logout abbia l'id "signout".
<div class="highlight"><pre><code class="php"><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;logout&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;logout&#39;</span> <span class="p">),</span>
                            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="o">=&gt;</span><span class="s1">&#39;signout&#39;</span><span class="p">)</span>
                <span class="p">);</span>
</code></pre>
</div>



  </div>


   <!-- here add you post markup -->
   <h1><a href="/2010/07/29/cakephp-facebook-plugin">cakePHP facebook plugin</a></h1>
   <p class="author">
   <span class="date">29 July 2010</span>
  </p>
  <div class="content">
    <strong>OUTDATED, questo post si riferisce al vecchio plugin che utilizzava le api OLD rest di facebook. A breve come utilizzare il nuovo plugin.</strong>

Ho scaricato questo <a href="http://facebook.webtechnick.com/ ">http://facebook.webtechnick.com/ </a>plugin per integrare facebook in cakePHP.
Le cose belle di questo plugin sono tre:
1)Permette di integrare il login in facebook con la nostra applicazione
2)Ha un helper <a href="http://facebook.webtechnick.com/share">a prova di idiota</a> per inserire i pulsanti di facebook come "i like it" o "share".
3)E' facile attingere dalle api per aggiungere nuove funzionalita' al component "Connect.php"

Su quest'ultimo punto, un piccolo esempio. Se avete la necessità di far si che un utente possa pubblicare un link sul wall in facebook dal vostro sito, potete aggiungere al component Connect.php questa semplice funzione, ed utilizzarla direttamente nel vostro controller:
<div class="highlight"><pre><code class="php">    <span class="k">function</span> <span class="nf">postLinkOnWall</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$uid</span><span class="p">){</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">FacebookApi</span><span class="o">-&gt;</span><span class="na">api_client</span><span class="o">-&gt;</span><span class="na">links_post</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="nv">$message</span><span class="p">,</span> <span class="nv">$uid</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>
</div>


Secondo la nuova policy di facebook che entra in vigore il 30 luglio 2010, la vostra applicazione dovrà richiedere all'utente quali <a href="http://developers.facebook.com/docs/authentication/permissions">Extended Permissions</a> concedervi. Nel caso del link sul wall, il permesso che ci interessa è il "publish_stream". Nell'helper c'è l'apposito metodo "promptPermission" che si occupa di questo, ma se volete personalizzare il messaggio, potete inserire il seguente codice fbml:
[html]
<fb:prompt-permission perms="publish_stream">
    Would you like to allow my application to share in facebook this comments?
</fb:prompt-permission>
[/html]

Per verificare se l'utente ha i permessi richiesti, possiamo aggiungere una funzione al component, e richiamarla quando ne abbiamo bisogno:
<div class="highlight"><pre><code class="php">    <span class="k">function</span> <span class="nf">hasPublishPermitted</span><span class="p">(</span><span class="nv">$ext_perm</span><span class="p">,</span> <span class="nv">$uid</span><span class="p">){</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">FacebookApi</span><span class="o">-&gt;</span><span class="na">api_client</span><span class="o">-&gt;</span><span class="na">users_hasAppPermission</span><span class="p">(</span><span class="nv">$ext_perm</span><span class="p">,</span> <span class="nv">$uid</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>
</div>


Se ci sono altre funzioni alle quali volete accedere dal component "Connect", vi consiglio di leggervi il file /vendors/facebook/php/facebookapi_php5_restlib.php

  </div>


   <!-- here add you post markup -->
   <h1><a href="/2010/07/23/cakephp-paypal-component">cakePHP paypal component</a></h1>
   <p class="author">
   <span class="date">23 July 2010</span>
  </p>
  <div class="content">
    Ho realizzato un component per il methodo "parallel payment" previsto dalle API di Paypal. Questo metodo permette di pagare piu' utenti con un solo checkout. Utile nel caso aveste un negozio online dove piu' persone devono ricevere il pagamento.
Tutto sul mio repo <a href="http://github.com/edap/cakePHP_paypal_component">http://github.com/edap/cakePHP_paypal_component</a>

  </div>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page12" class="previous">Previous</a>
  
  <span class="page_number ">Page: 13 of 16</span>
  
    <a href="/page14" class="next ">Next</a>
  
</div>

				</div><!-- entry-content -->
			</div><!-- bd -->

			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>contact</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Davide Prati</span> - <span class="fn email">lastexxit guess gmail</span></address></li>
						<li class="contact">Sonnenallee 201, Berlin</li>
						<li class="github"><a href="http://github.com/edap/" rel="me">github.com/edap</a></li>
						<li class="rss"><a href="http://feeds.feedburner.com/Edapx">Subscribe to RSS Feed</a></li>
						<li class="rss"><a href="http://edapx.tumblr.com">Tumblr</a></li>
						<li class="rss"><a href="https://plus.google.com/u/0/114627287220738676405/posts">Google Plus</a></li>
					</ul>
				</div><!-- misc -->
				<p class="licence">
					Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.
				</p>
			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/page13/index.html" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>
  
  
</body>
</html>

