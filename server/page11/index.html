
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Blog</title>
	<meta name="author" content="Davide Prati">
	<link href='/assets/themes/the-program/css/style.css' rel="stylesheet" media="all">
	<link href='/assets/themes/the-program/css/native.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="Blog" type="application/atom+xml">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
</head>
<body>

<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<nav class="nav-global">
					<ul>
						<li class="logo"><a href="/">Edapx</a></li>
						<li class="pages"><a href="/about.html">about</a></li>
						<li class="archive"><a href="/archive.html">archive</a></li>
						<li class="tag"><a href="/tags.html">tags</a></li>
						</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
<article class="unit-article layout-page">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header>
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
						<h1 class="h2 entry-title">Blog</h1>
					</div><!-- unit-inner -->
				</div><!-- unit-head -->
			</header>

			<div class="bd">
				<div class="entry-content">
					

   <!-- here add you post markup -->
   <h1><a href="/2010/11/17/cakephp-e-acl">CakePHP e ACL</a></h1>
   <p class="author">
   <span class="date">17 November 2010</span>
  </p>
  <div class="content">
    Segnalo qualche link a soluzioni che possono semplificare l'implementazione di ACL in cakePHP
<a href="http://sourceforge.net/projects/bancer/">http://sourceforge.net/projects/bancer/</a>

<a href="https://github.com/Theaxiom/SuperAuth">https://github.com/Theaxiom/SuperAuth</a>

<a href="https://github.com/markstory/acl_extras">https://github.com/markstory/acl_extras</a>

<a href="https://github.com/markstory/cakephp_menu_component">https://github.com/markstory/cakephp_menu_component</a>

  </div>


   <!-- here add you post markup -->
   <h1><a href="/2010/11/16/script-per-rimuovere-commenti-da-files-php-ricorsivamente">script per rimuovere commenti da files php ricorsivamente</a></h1>
   <p class="author">
   <span class="date">16 November 2010</span>
  </p>
  <div class="content">
    Capita che un cliente vi commisioni un progetto, ve ne faccia fare 3/4 e poi decida di non pagarvi l'ultima parte dello sviluppo, quando ormai il grosso e' fatto e le cose da refinire sono poche.
Dovete comunque consegnare il codice ma volete per lo meno togliere i commenti.
Allora piazzate questi due script nella direcotry dove risiedono i file che volete "spurgare":
rm-phpcomments.sh e strip_comments.php.
rm-phpcomments.sh trova i file php da ripulire e li passa in input a strip_comments.php.
<div class="highlight"><pre><code class="bash"><span class="c">#!bin/bash</span>
find . -name <span class="s2">&quot;*.php&quot;</span> | <span class="k">while </span><span class="nb">read </span>file
<span class="k">do</span>
<span class="k">	</span>php strip_comments.php <span class="nv">$file</span>
<span class="k">done</span>
</code></pre>
</div>

strip_comments.php li riscrive levando i commenti
<div class="highlight"><pre><code class="php"><span class="o">&lt;?</span><span class="nx">php</span>
	<span class="nv">$source</span> <span class="o">=</span> <span class="nv">$argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="nv">$fileStr</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$source</span><span class="p">);</span>
	<span class="nv">$newStr</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>

	<span class="nv">$commentTokens</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nx">T_COMMENT</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;T_DOC_COMMENT&#39;</span><span class="p">))</span>
	    <span class="nv">$commentTokens</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">T_DOC_COMMENT</span><span class="p">;</span> 	<span class="k">if</span> <span class="p">(</span><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;T_ML_COMMENT&#39;</span><span class="p">))</span>
	    <span class="nv">$commentTokens</span><span class="p">[]</span> <span class="o">=</span> <span class="nx">T_ML_COMMENT</span><span class="p">;</span>  
	<span class="nv">$tokens</span> <span class="o">=</span> <span class="nb">token_get_all</span><span class="p">(</span><span class="nv">$fileStr</span><span class="p">);</span>

	<span class="k">foreach</span> <span class="p">(</span><span class="nv">$tokens</span> <span class="k">as</span> <span class="nv">$token</span><span class="p">)</span> <span class="p">{</span>    
	    <span class="k">if</span> <span class="p">(</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$token</span><span class="p">))</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$token</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nv">$commentTokens</span><span class="p">))</span>
		    <span class="k">continue</span><span class="p">;</span>

		<span class="nv">$token</span> <span class="o">=</span> <span class="nv">$token</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	    <span class="p">}</span>

	    <span class="nv">$newStr</span> <span class="o">.=</span> <span class="nv">$token</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="nv">$handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nv">$source</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="nv">$handle</span><span class="p">){</span>
		<span class="nb">fwrite</span><span class="p">(</span><span class="nv">$handle</span><span class="p">,</span> <span class="nv">$newStr</span><span class="p">);</span>
		<span class="nb">fclose</span><span class="p">(</span><span class="nv">$handle</span><span class="p">);</span>
		<span class="c1">//echo &quot;open&quot;;</span>
	<span class="p">}</span><span class="k">else</span><span class="p">{</span>
		<span class="k">echo</span> <span class="s2">&quot;no fucking handle!!&quot;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre>
</div>

Se il cliente era particolarmente antipatico, se siete troppo affezionati al vostro codice, o  se non avete nessun tipo di spirito solidale verso la persona che dovra' finire il vostro lavoro, potete modificare strip_comments.php inserendo questa simpatica <a href="http://www.raizlabs.com/software/phpobfuscator/">libreria</a>

  </div>


   <!-- here add you post markup -->
   <h1><a href="/2010/08/23/installare-bedita">Installare Bedita</a></h1>
   <p class="author">
   <span class="date">23 August 2010</span>
  </p>
  <div class="content">
    Bedita è un CMS basato su CakePHP. O meglio, come lo definiscono i <a href="http://www.channelweb.it">suoi sviluppatori</a>: <em>BEdita is a modular framework that features a back-end Content Management System out-of-the-box.</em>

Vediamo come installarlo:
Scaricate bedita dal <a href="http://bedita.com/">sito ufficiale</a>  
Create un database e un utente che abbia grant permissions, modificate il file bedita-app/config/database.php e impostate corretamente il vostro user, password e nome del database.
Abilitate sul vostro server la webroot per bedita, supponendo che stiate installando bedita in locale, e che vogliate visualizzare bedita a http://localhost, il vostro file /etc/apache2/sites-available/bedita avra' la variabile DocumentRoot uguale a /path_to_bedita/bedita-app/webroot.
Maggiori informazioni su questo aspetto riguradante la configurazione di apache2 le trovate <a href="http://guide.debianizzati.org/index.php/LAMP:_Linux,_Apache,_MySQL_e_PHP">qui</a>
Create una directory dove bedita caricherà i file, foto, doc ecc...per esempio "media" 
Spostatevi nella cartella "bedita".
Assicuratevi che il webserver abbia i permessi di scrittura su tale cartella. Supponendo che il server si apache, e che la cartella sia bedita-app/webroot/media
<div class="highlight"><pre><code class="bash">chmod -R 777 bedita-app/webroot/media
chown www-data:www-data -R bedita-app/webroot/media
</code></pre>
</div>

fate la stessa operazione per bedita-app/tmp.
Settate le due variabili mediaRoot e mediaUrl nel file bedita-app/config/bedita.sys.php
<div class="highlight"><pre><code class="php"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;mediaRoot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;path_to_bedita_&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;bedita-app&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;webroot&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;media&quot;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;mediaUrl&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;http://localhost/media&quot;</span><span class="p">;</span>
</code></pre>
</div>

ovviamente, sostituite a "path_to_bedita" il percorso assoluto dove avete installato bedita nel mio caso 
<div class="highlight"><pre><code class="php"><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;mediaRoot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;/home/da/public_html/bedita&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;bedita-app&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;webroot&quot;</span><span class="o">.</span><span class="nx">DS</span><span class="o">.</span><span class="s2">&quot;media&quot;</span><span class="p">;</span>
</code></pre>
</div>


nella cartella bedita lanciate lo script che provvederà' a creare le tabelle necessarie.
<div class="highlight"><pre><code class="bash">./cake.sh bedita init
</code></pre>
</div>

Se tutto è andato a buon fine, a questo indirizzo <a href="http://localhost">http://localhost</a> dovreste vedere il pannello d'amministrazione dal quale loggarvi.
user : bedita
pwd : bedita.
fatto.

Perchè dovrei usare bedita quando mi trovo già bene con cakePHP?
Perchè tutto il backend è già fatto, tutto è già predisposto per la vostra galleria immagini, per poter tradurre il sito in altre lingue, per gestire una rubrica degli indirizzi, per inviare una newsletter, per gestire gli utenti. Tutto lavoro già fatto, e fatto bene. 
Inoltre, la procedura d'installazione è molto facile, e l'interfaccia del pannello di amministrazione è molto elegante e intuitiva. Insomma, da provare.

<strong>ah..</strong>
All'interno della cartella bedita/frontends ci sono degli esempi di come è possibile integrare il potente backend di bedita nel frontend della nostra applicazione. Per provare al volo il frontend stile wordpress aggiungete nella vostra cartella /etc/apache2/sites-available il file bedita-wp. Come webroot impostate il path /path_to_bedita/frontends/wp.example.com/webroot. Ricordatevi di settare i permessi alla cartella tmp in modo che sia accessibile in scrittura al server.

  </div>


<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page10" class="previous">Previous</a>
  
  <span class="page_number ">Page: 11 of 16</span>
  
    <a href="/page12" class="next ">Next</a>
  
</div>

				</div><!-- entry-content -->
			</div><!-- bd -->

			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>contact</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Davide Prati</span> - <span class="fn email">lastexxit guess gmail</span></address></li>
						<li class="contact">Sonnenallee 201, Berlin</li>
						<li class="github"><a href="http://github.com/edap/" rel="me">github.com/edap</a></li>
						<li class="rss"><a href="http://feeds.feedburner.com/Edapx">Subscribe to RSS Feed</a></li>
						<li class="rss"><a href="http://edapx.tumblr.com">Tumblr</a></li>
						<li class="rss"><a href="https://plus.google.com/u/0/114627287220738676405/posts">Google Plus</a></li>
					</ul>
				</div><!-- misc -->
				<p class="licence">
					Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.
				</p>
			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/page11/index.html" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>
  
  
</body>
</html>

