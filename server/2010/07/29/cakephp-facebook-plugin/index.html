
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>cakePHP facebook plugin</title>
    
    <meta name="author" content="Name Lastname">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Jekyll Bootstrap</a>
          <ul class="nav">
            
            
            


  
    
    	
    	<li><a href="/categories.html">Categories</a></li>
    	
    
  
    
    	
    	<li><a href="/tags.html">Tags</a></li>
    	
    
  
    
  
    
  
    
    	
    	<li><a href="/pages.html">Pages</a></li>
    	
    
  
    
    	
    	<li><a href="/archive.html">Archive</a></li>
    	
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>cakePHP facebook plugin <small>Supporting tagline</small></h1>
</div>

<div class="row">
  <div class="span8">
    <strong>OUTDATED, questo post si riferisce al vecchio plugin che utilizzava le api OLD rest di facebook. A breve come utilizzare il nuovo plugin.</strong>

Ho scaricato questo <a href="http://facebook.webtechnick.com/ ">http://facebook.webtechnick.com/ </a>plugin per integrare facebook in cakePHP.
Le cose belle di questo plugin sono tre:
1)Permette di integrare il login in facebook con la nostra applicazione
2)Ha un helper <a href="http://facebook.webtechnick.com/share">a prova di idiota</a> per inserire i pulsanti di facebook come "i like it" o "share".
3)E' facile attingere dalle api per aggiungere nuove funzionalita' al component "Connect.php"

Su quest'ultimo punto, un piccolo esempio. Se avete la necessità di far si che un utente possa pubblicare un link sul wall in facebook dal vostro sito, potete aggiungere al component Connect.php questa semplice funzione, ed utilizzarla direttamente nel vostro controller:
[php]
    function postLinkOnWall($url, $message, $uid){
            $this->FacebookApi->api_client->links_post($url, $message, $uid);
    }
[/php]

Secondo la nuova policy di facebook che entra in vigore il 30 luglio 2010, la vostra applicazione dovrà richiedere all'utente quali <a href="http://developers.facebook.com/docs/authentication/permissions">Extended Permissions</a> concedervi. Nel caso del link sul wall, il permesso che ci interessa è il "publish_stream". Nell'helper c'è l'apposito metodo "promptPermission" che si occupa di questo, ma se volete personalizzare il messaggio, potete inserire il seguente codice fbml:
[html]
<fb:prompt-permission perms="publish_stream">
    Would you like to allow my application to share in facebook this comments?
</fb:prompt-permission>
[/html]

Per verificare se l'utente ha i permessi richiesti, possiamo aggiungere una funzione al component, e richiamarla quando ne abbiamo bisogno:
[php]
    function hasPublishPermitted($ext_perm, $uid){
        return $this->FacebookApi->api_client->users_hasAppPermission($ext_perm, $uid);
    }
[/php]

Se ci sono altre funzioni alle quali volete accedere dal component "Connect", vi consiglio di leggervi il file /vendors/facebook/php/facebookapi_php5_restlib.php

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/2010/07/23/cakephp-paypal-component" title="cakePHP paypal component">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/2010/07/31/come-integrare-twitteranywhere-nellautenticazione-di-cakephp" title="come integrare twitter@anywhere nell'autenticazione di cakePHP">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>29 July 2010</span></div>

  
    <h4>Tags</h4>
    <ul class="tag_box">
    
    


  
     
    	<li><a href="/tags.html#cakephp-ref">cakephp <span>20</span></a></li>
     
    	<li><a href="/tags.html#facebook-ref">facebook <span>1</span></a></li>
     
    	<li><a href="/tags.html#plugin-ref">plugin <span>2</span></a></li>
    
  



    </ul>
    
  </div>
</div>


      </div>

      <footer>
        <p>&copy; Name Lastname 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

