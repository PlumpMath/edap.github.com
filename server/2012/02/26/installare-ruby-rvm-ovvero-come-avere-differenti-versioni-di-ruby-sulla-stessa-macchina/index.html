
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Installare Ruby RVM, ovvero come avere differenti versioni di ruby sulla stessa macchina</title>
	<meta name="author" content="Davide Prati">
	<link href='/assets/themes/the-program/css/style.css' rel="stylesheet" media="all">
	<link href='/assets/themes/the-program/css/native.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="Installare Ruby RVM, ovvero come avere differenti versioni di ruby sulla stessa macchina" type="application/atom+xml">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
</head>
<body>

<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<nav class="nav-global">
					<ul>
						<li class="logo"><a href="/">Edapx</a></li>
						<li class="pages"><a href="/about.html">about</a></li>
						<li class="archive"><a href="/archive.html">archive</a></li>
						<li class="tag"><a href="/tags.html">tags</a></li>
						</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
<article class="unit-article layout-post">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header>
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
						<h1 class="h2 entry-title">Installare Ruby RVM, ovvero come avere differenti versioni di ruby sulla stessa macchina</h1>
					</div><!-- unit-inner -->
				</div><!-- unit-head -->
			</header>

			<div class="bd">
				<div class="entry-content">
					Ruby Virtual Machine serve per utilizzare differenti versioni di ruby sulla stessa macchina. In Ruby, data l'alta frequenza con cui vengono rilasciate le nuove release, e' molto facile avere progetti in produzione che funzionano con una versione vecchia di ruby. un altro scenario in cui RVM puo' tornare utile e' quello in cui vogliamo sperimentare la nuova versione di ruby al posto di quella predefinita dal nostro sistema.
Se scegliamo di affidarci a RVM, cosa saggia, e' bene che d'ora in avanti ogni progetto in ruby abbia la sua versione di ruby e relativo gemset definito in .rvmrc (vedi tutorial alla fine), e di non affidarsi piu'alla versione di ruby in /usr/bin ma a quella installata nella nostra /home/user/.rvm. Dopo aver completato quanto scritto in questa guida, il comando "which ruby" restituira' il path dell'eseguibile all'interno della nostra .rvm folder. Se invece da root, eseguiamo il comando "which ruby" quesyto ritornera' il path "/usr/bin/ruby", perche' questo e' il path dell'eseguibile di sistema, mentre con rvm installiamo diverse versioni di ruby in user space, all'interno della nostra home. Si puo' installare rvm anche da root, ma e' una cosa che sconsiglio. Meglio avere una sola versione di ruby sull'intero sistema, e diverse versioni di ruby in user space, adattabili ai nostri progetti.
<h4>Installare RVM</h4>
<div class="highlight"><pre><code class="bash">bash -s stable &lt; &lt; <span class="o">(</span>curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer<span class="o">)</span>
</code></pre>
</div>


aggiungi questa linea alla fine di .bashrc
<div class="highlight"><pre><code class="bash"><span class="o">[[</span> -s <span class="s2">&quot;$HOME/.rvm/scripts/rvm&quot;</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">source</span> <span class="s2">&quot;$HOME/.rvm/scripts/rvm&quot;</span>
</code></pre>
</div>


ricarica il file ".bashrc"
<div class="highlight"><pre><code class="bash"><span class="nv">$ </span><span class="nb">source</span> ~/.bashrc
</code></pre>
</div>


leggi bene cosa ti dice l'output di questo comando, e in caso installa quanto richiesto
<div class="highlight"><pre><code class="bash">rvm requirements
</code></pre>
</div>


Qui leggiamo
<div class="highlight"><pre><code class="bash">To install rbx and/or Ruby 1.9 head <span class="o">(</span>MRI<span class="o">)</span> <span class="o">(</span>eg. 1.9.2-head<span class="o">)</span>,
<span class="k">then </span>you must install and use rvm 1.8.7 first
</code></pre>
</div>

Ed e' quello che faremo.Per installa MRI dobbiamo prima installare ruby 1.8.7.MRI, Matz' Ruby Interpreter e' l'implementazione ufficiale di ruby scritta in C.

<div class="highlight"><pre><code class="bash">apt-get install build-essential openssl libreadline6 libreadline6-dev curl git-core zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 libxml2-dev libxslt-dev autoconf libc6-dev ncurses-dev automake libtool bison subversion
</code></pre>
</div>

poi
<div class="highlight"><pre><code class="bash">rvm install ruby 1.8.7
</code></pre>
</div>


con questo comando possiamo invece vedere tutte le versioni di ruby che possiamo installare
<div class="highlight"><pre><code class="bash">rvm list known
</code></pre>
</div>


Ora possiamo installare ruby 1.9.3
<div class="highlight"><pre><code class="bash">rvm install ruby 1.9.3
</code></pre>
</div>


<h4>Passare da una versiona all'altra di ruby, o sceglierne una di default</h4>
dando il comando
<div class="highlight"><pre><code class="bash">rwm list
</code></pre>
</div>


Possiamo avere un elenco delle versione di ruby installate. Per passare dalla 1.8.7 alla 1.9.3, diamo il comando
<div class="highlight"><pre><code class="bash">rwm use 1.9.3
</code></pre>
</div>

Se invece vogliamo usarne una di default, basta settarla

<div class="highlight"><pre><code class="bash"> rvm --default use 1.9.3
</code></pre>
</div>


<h4>.rvmrc</h4>
Come far si che ogni progetto abbia la sua versione di ruby e il suo gemset gia' configurato.creiamo la cartella "uno" che conterra' un progetto che usa ruby 1.8.7 e la cartella "due" che usa ruby 1.9.3.
Spostiamoci in "uno" e creiamo il file .rvmrc contenente il nome della versione di ruby che vogliamo usare ed il nome del progetto separati dal simbolo <b>@</b>.Quindi
<div class="highlight"><pre><code class="bash">rvm 1.8.7@uno
</code></pre>
</div>

Facciamo la stessa cosa nella cartella "due", modificando i valori per il file .rvmrc
<div class="highlight"><pre><code class="bash">rvm 1.9.3@due
</code></pre>
</div>

Ora ritorniamo nella cartella "uno", apparira' un warning, che ci dira' che non abbiamo il gemset installato. Digitiamo "y" ed andiamo avanti. spostandoci nelle cartelle e digitando "ruby -v" si puo' vedere come ruby cambi la versione a seconda di dove si trovi.
Per creare il gemset dove necessario(nel mio caso 1.9.3, perche' 1.8.7 era gia' installato) basta copiare il messagio letto nel warning ed eseguirlo nella directory dove abbiamo letto tale warning
<div class="highlight"><pre><code class="bash">rvm gemset create <span class="s1">&#39;due&#39;</span>
</code></pre>
</div>

<h4>Aggiornare RVM</h4>
All'ultima stable
<div class="highlight"><pre><code class="bash">rvm get stable
</code></pre>
</div>

Alla piu' recente
<div class="highlight"><pre><code class="bash">rvm get latest
</code></pre>
</div>

Alla recentissima piena di bugs
<div class="highlight"><pre><code class="bash">rvm get head
</code></pre>
</div>

rvm ha davvero un infinita' di opzioni, dare un occhio alla pagina help (rvm -h) per rendersene conto. Il progetto e' attivamente sviluppato qua <a href="https://github.com/wayneeseguin/rvm">https://github.com/wayneeseguin/rvm</a>


<strong>Link utili:</strong>
<a href="http://beginrescueend.com/set/gem/">http://beginrescueend.com/set/gem/</a>
<a href="http://beginrescueend.com/rvm/best-practices/">http://beginrescueend.com/rvm/best-practices/</a>
<a href="http://screencasts.org/episodes/how-to-use-rvm">http://screencasts.org/episodes/how-to-use-rvm</a>
<a href=" http://rails.vandenabeele.com/blog/2011/11/26/installing-ruby-and-rails-with-rvm-on-ubuntu-11-dot-10/">http://rails.vandenabeele.com/blog/2011/11/26/installing-ruby-and-rails-with-rvm-on-ubuntu-11-dot-10/</a>
<a href="http://beginrescueend.com/">http://beginrescueend.com/</a>

					<div class="meta">
						<p class="date-publish">
							Published: 
							<date class="date-pub" title="2012-02-26T00:00:00+01:00" datetime="2012-02-26T00:00:00+01:00" pubdate>
							<span class="month"><abbr>February</abbr></span>
							<span class="day">26</span>
							<span class="year">2012</span>
							</date>
						</p>
						<ul class="list-category list-linear">
							<li class="list-head">category: </li>
							
							


  
    
  


						</ul>
						<ul class="list-tag list-linear">
							<li class="list-head">tags: </li>
							
							


  
     
    	<li><a href="/tags.html#allday-ref">allday <span>7</span></a></li>
     
    	<li><a href="/tags.html#ruby-ref">ruby <span>7</span></a></li>
     
    	<li><a href="/tags.html#RVM-ref">RVM <span>2</span></a></li>
    
  



						</ul>
					</div><!-- meta -->
				</div><!-- entry-content -->
				<div class="misc-content">
					<div class="social">
						<ul class="list-linear">
							<li><div class="twitter-tweet"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="" data-lang="en">Tweet</a></div></li>
							<li><div class="twitter-follow"><a href="https://twitter.com/" class="twitter-follow-button" data-show-count="false" data-lang="en"></a></div></li>
						</ul>
					</div>
					<div class="comment">
					


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'edapx'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




					</div>
				</div><!-- misc-content -->
			</div><!-- bd -->
			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<nav class="pagination">
						<ul>
							
							<li class="prev"><a class="internal" rel="prev"  href="/lessons/2011/12/29/jekyll-introduction" title="View Jekyll Introduction">&laquo; Jekyll Introduction</a></li>
							
							
							<li class="pipe"> | </li>
							
							
							<li class="next"><a class="internal" rel="next"  href="/2012/03/02/stesso-progetto-in-rails-due-versioni-di-ruby-e-due-gemset-diversi" title="View Stesso progetto in rails, due versioni di ruby e due gemset diversi">Stesso progetto in rails, due versioni di ruby e due gemset diversi &raquo;</a></li>
							
						</ul>
					</nav>
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>contact</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Davide Prati</span> - <span class="fn email">lastexxit guess gmail</span></address></li>
						<li class="contact">Sonnenallee 201, Berlin</li>
						<li class="github"><a href="http://github.com/edap/" rel="me">github.com/edap</a></li>
						<li class="rss"><a href="http://feeds.feedburner.com/Edapx">Subscribe to RSS Feed</a></li>
						<li class="rss"><a href="http://edapx.tumblr.com">Tumblr</a></li>
						<li class="rss"><a href="https://plus.google.com/u/0/114627287220738676405/posts">Google Plus</a></li>
					</ul>
				</div><!-- misc -->
				<p class="licence">
					Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.
				</p>
			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/2012/02/26/installare-ruby-rvm-ovvero-come-avere-differenti-versioni-di-ruby-sulla-stessa-macchina" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>
  
  
</body>
</html>

