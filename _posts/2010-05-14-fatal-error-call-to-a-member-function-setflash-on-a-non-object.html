--- 
layout: post
title: "Fatal error: Call to a member function setFlash() on a non-object"
published: true
meta: 
  _edit_last: "1"
tags: 
- cakephp
- migrazione
type: post
status: publish
---
Ovvero, cose basilari per la migrazione da cake 1.2 a cake 1.3
Partiamo con l'errore che leggete nel titolo. Il component Session non è più incluso di default. Va quindi aggiunto nell'app_controller.php
[php]
class AppController extends Controller{
var $components = array('Auth','Session);
[/php]
Routing.admin è deprecato.
[php]
//da:
Configure::write('Routing.admin', 'admin');

//a:
Configure::write('Routing.prefixes', array('admin'));

[/php]
<ul>
	<li>Il metodo del() nei controller è sostituito con delete()</li>
	<li>cake/tua_app_cake_1.2/webroot/index.php è da sostituire con index.php di cake 1.3</li>
	<li>Il metodo renderElement non è più supportato, al suo posto usare Element</li>
	<li>$javascript-&gt;link() va sostituito con $html-&gt;script()</li>
	<li>$javascript-&gt;codeBlock() va sostituito con $html-&gt;scriptBlock()</li>
	<li>In route.php, sostituire route.admin</li>
</ul>
Se avete installato dei plugin esterni, se avete scritto dei component personalizzati, controllate la <a href="http://book.cakephp.org/view/1561/Migrating-from-CakePHP-1-2-to-1-3">guida ufficiale</a>, le novità sono parecchie.
